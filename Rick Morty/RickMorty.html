<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-- Esse arquivo demonstra uma forma de simples(não perfeita,porém simples) de como consumir api e colocar no front -->
<!-- por querer começar com coisas simples,fiz só um arquivo HTML mesmo,mas nem sempre vai ser bom. -->
<!-- com menos de 50 linhas de script,eu consumi 840 personagens da api do Rick Morty e coloquei todos no front -->
<!-- futuramente posso mudar com mais paginas,com os locais e mais coisas da série. -->
<body>
    <div></div>
    <!-- Sim,fiz apenas uma div inicialmente.Estou acostumado com React e decidi fazer tudo pelo script -->
    <!-- Apesar disso, se eu iniciasse com a UL e os elementos dentro ao invés seria mais fácil.  -->
</body>
<script>
    // aqui vou declarar algumas variáveis e selecionar a div.
    // https://rickandmortyapi.com/api/character/ retorna uma série de dados da api,como a contagem
    let numResultados;
    let Array = []
    var div = document.querySelector('div')
    var Atualizado = false;
    fetch('https://rickandmortyapi.com/api/character/').then((Response) => Response.json().then((data) => {
        numResultados = data.info.count
        Atualizado = true        
        if (Atualizado) {
            for (let paginaAtual = 1; paginaAtual <= numResultados; paginaAtual++) {
               fetch(`https://rickandmortyapi.com/api/character/${paginaAtual}`).then((Response) => {
                // console.log(Response);
                Response.json().then((data) => {
                    Array.push(data)
                    console.log(Array[0])
                    if (Array.length === numResultados) {
                        Array.forEach(data => {
                           let ul = document.createElement("ul")
                           let li = document.createElement("li")
                           let img = document.createElement("img")
                           let h1 = document.createElement("h1")
                           let h3 = document.createElement("h3")
                           var textLI = document.createTextNode(data.location.name);
                           var textH1 = document.createTextNode(data.name);
                           var textH3 = document.createTextNode(data.status);
                           var srcIMG = data.image
                           img.src = srcIMG
                           li.appendChild(textLI)
                           h1.appendChild(textH1)
                           h3.appendChild(textH3)
                           ul.appendChild(img)
                           ul.appendChild(h1)
                           ul.appendChild(li)
                           ul.appendChild(h3)
                           div.appendChild(ul)
                        });
                    }
                })
               })
            }
        }  
    }))
    
</script>
<style>
    body {background-color: #121212;color: white;font-family: Arial, Helvetica, sans-serif}
    h1 {font-family: 'Poppins';}
    li{list-style: none;color: #999999;}
    ul {flex-shrink: 0;}
    div {
        display: grid;
        grid-template-columns: repeat(auto-fit,400px);
  gap: 15px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;  
  scrollbar-width: none;
    }
</style>
</html>